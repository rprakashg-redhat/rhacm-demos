---
apiVersion: policy.open-cluster-management.io/v1
kind: PolicyGenerator
metadata:
  name: configuration-policies

policyDefaults:
  namespace: "policies"
  
  standards:
  - "NIST SP 800-53"

  categories:
  - "CM Configuration Management"
  
  controls:
  - "CM-2 Baseline Configuration"
  
  complianceType: "musthave"
  
  evaluationInterval:
    compliant: 30m
    noncompliant: 45s
  
  remediationAction: "inform"
  
  severity: "medium"

  placement:
    clusterSelectors:
      environment: "production"

policies:
  - name: check-resource-quota
    manifests:
    - path: ./manifests/ResourceQuota.yaml
    namespaceSelector:
      include:
      - "*"
      exclude:
      - "kube-*"
      - "openshift-*"
      - "open-cluster-management-*"
      - "istio-*"
  
  - name: check-infra-nodes-on-cluster
    manifests:
    - path: ./manifests/Node.yaml
...
